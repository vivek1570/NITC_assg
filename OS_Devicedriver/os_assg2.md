#### Steps
1.
Create a Makefile
```c
obj-m += driver.o

all:
	make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules

clean:
	make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean
```

2.
load the code into driver.c

3.
Makefile Execution

```shell
make
```

4.
load the driver into kernel, along with timer and kernel_version
```shell
sudo insmod driver.ko timer=30 kernel_version=5,15,116
```
5.
The list of files inside folder after make
```
driver_1.c  
driver_1.ko 
driver_1.mod
driver_1.mod.c 
driver_1.mod.o 
driver_1.o  
Makefile  
modules.order 
Module.symvers 
```
6.
Now you have successfully created the device file
you can see the info inside

```shell
cat /proc/devices
```

7.
When you run `dmesg` in the terminal, it displays a log of messages generated by the kernel during the boot process and while the system is running.
```
dmesg
```
if you want to limit the log messages you can run
```shell
dmesg | tail -n 10
```

8.
after chmod 777 now you can directly able to get the access to echo into /dev/device_file

```shell
echo $(whoami) > /dev/etx_vivek
```

through this we can get the user input data into kernel space, here i'm writing  username

9.
you can check the log messages now also
```shell
dmesg | tail -n 10
```

10.
read from kernel space into user space through file operations
```shell
cat /dev/etx_vivek
```
11.
unload the device driver
```shell
sudo rmmod driver_1.ko
```

now you have successfully unloaded the driver

12.
you can check the further log messages by dmesg
```shell
dmesg 
```





